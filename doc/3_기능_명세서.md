# 기능 명세서 (Functional Specification)

## 1. 개요
본 문서는 AdvanceKeep 애플리케이션의 상세 기능을 정의합니다. 각 기능의 입력, 처리, 출력을 명시합니다.

## 2. 상세 기능 목록

### F-01: 메모 작성
-   **Description**: 사용자가 새로운 메모를 생성하는 기능
-   **Input**: 제목(텍스트), 내용(텍스트/마크다운), 이미지(파일 업로드)
-   **Process**:
    1. 사용자가 입력창 클릭 시 확장됨
    2. 내용 입력 후 '닫기' 또는 외부 클릭 시 저장 요청
    3. 백엔드 API (`POST /notes`) 호출
-   **Output**: 메인 화면 목록에 새로운 메모 카드 추가

### F-02: 메모 수정
-   **Description**: 기존 메모의 내용을 변경하는 기능
-   **Input**: 수정할 제목, 내용, 이미지
-   **Process**:
    1. 메모 카드 클릭 시 모달 창 오픈
    2. 내용 수정 후 저장
    3. 백엔드 API (`PUT /notes/:id` 또는 `PATCH`) 호출
-   **Output**: 변경된 내용이 반영된 메모 카드 표시

### F-03: 메모 삭제 및 복원
-   **Description**: 메모를 휴지통으로 보내거나 복원하는 기능
-   **Process**:
    1. 메모 카드의 '삭제' 아이콘 클릭 -> `isTrashed: true` 업데이트
    2. 휴지통에서 '복원' 아이콘 클릭 -> `isTrashed: false` 업데이트
    3. 휴지통에서 '영구 삭제' 클릭 -> DB에서 데이터 완전 삭제 (`DELETE /notes/:id`)
-   **Output**: 해당 메모가 목록에서 사라지거나 휴지통/메인으로 이동

### F-04: 이미지 업로드
-   **Description**: 로컬 이미지를 메모에 첨부하는 기능
-   **Input**: 이미지 파일 (JPG, PNG 등)
-   **Process**:
    1. `FileReader` API를 통해 이미지를 Base64 문자열로 변환 (현재 로컬 목업 단계)
    2. 변환된 문자열을 메모 데이터의 `images` 배열에 저장
-   **Output**: 메모 카드 상단에 이미지 썸네일 표시

### F-05: 리스트/그리드 뷰 전환
-   **Description**: 메모 목록의 레이아웃을 변경하는 기능
-   **Input**: 헤더의 뷰 전환 토글 버튼 클릭
-   **Process**: 전역 상태(Context)의 `viewMode` 값을 `list` <-> `grid` 변경
-   **Output**:
    -   List View: 메모가 세로로 일렬 배치
    -   Grid View: Masonry 레이아웃으로 빈 공간 없이 배치

### F-06: 검색
-   **Description**: 메모를 검색하는 기능
-   **Input**: 검색어
-   **Process**: 메모 생성/수정 시 텍스트 인덱싱 또는 클라이언트 사이드 필터링 수행
-   **Output**: 검색어가 제목 또는 내용에 포함된 메모만 필터링하여 표시, 일치하는 텍스트는 노란색으로 하이라이트

### F-07: 메모 고정/해제
-   **Description**: 중요한 메모를 상단에 고정하는 기능
-   **Input**: 메모 카드의 핀 아이콘 클릭
-   **Process**:
    1. `isPinned: true` 속성 설정
    2. 고정된 메모는 "고정됨" 섹션에 표시
    3. 해제 시 `isPinned: false`로 변경
-   **Output**: 고정된 메모가 상단 영역에 분리되어 표시

### F-08: 메모 공유
-   **Description**: 다른 사용자와 메모를 공유하는 기능
-   **Input**: 공유할 사용자의 이메일
-   **Process**:
    1. 메모 카드의 공유 버튼 클릭
    2. 이메일 입력 모달 표시
    3. 해당사용자의 ID를 메모의 `sharedWith` 배열에 추가
    4. Firebase에 업데이트
-   **Output**: 공유 배지 표시, 공유받은 사용자는 해당 메모 조회/수정 가능

### F-09: 이미지 확대 보기 (Lightbox)
-   **Description**: 첨부된 이미지를 전체 화면으로 확대하여 보는 기능
-   **Input**: 이미지 클릭
-   **Process**:
    1. 메모 카드, 등록 폼, 수정 모달의 이미지 클릭
    2. `yet-another-react-lightbox` 라이브러리로 전체 화면 모달 표시
    3. 여러 이미지가 있을 경우 좌우 화살표로 탐색 가능
-   **Output**: 전체 화면 이미지 뷰어, ESC 키 또는 배경 클릭으로 닫기
